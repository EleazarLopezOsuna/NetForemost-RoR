<div class="container-fluid d-flex justify-content-center mt-5 pt-5">
  <div class="card text-bg-dark mb-3 me-5" style="width: 70rem;">
    <div class="card-header text-center">
      <h3>Create Note</h3>
    </div>
    <div class="card-body card-container">
      <div class="card-body card-container">
        <%= form_with scope: :note, url: notes_path, local: true do |f| %>
          <div class="form-group">
            <%= f.text_field :title, class: "form-control", placeholder: "Title" %>
          </div>
          <div class="form-group">
            <%= f.text_area :body, class: "form-control", placeholder: "Body", style: "height: 420px; resize: none" %>
          </div>
          <div class="form-group">
            <%= f.text_field :hashtags, class: "form-control", placeholder: "Hashtags (comma separated)" %>
          </div>
          <div class="form-group">
            <%= f.submit "Save", class: "btn btn-block btn-primary btn-lg" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
  <div class="card text-bg-dark mb-3" style="width: 70rem;">
    <div class="card-header text-center">
      <h3>My Notes</h3>
    </div>
    <div class="card-body card-container">
      <table class="table table-dark table-hover table-scroll table-striped" id="notesTable">
        <thead>
        <tr>
          <th scope="col"><%= link_to "#", sort_notes_path(field: "id"), class: "nav-link" %></th>
          <th scope="col"><%= link_to "Title", sort_notes_path(field: "title"), class: "nav-link" %></th>
          <th scope="col"><%= link_to "Topic", sort_notes_path(field: "hashtag"), class: "nav-link" %></th>
          <th scope="col"><%= link_to "Date", sort_notes_path(field: "created_at"), class: "nav-link" %></th>
          <th></th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <% @notes.each do |note| %>
          <tr>
            <th class="align-middle" scope="row"><%= note.id %></th>
            <td class="align-middle"><%= note.title %></td>
            <td class="align-middle"><%= note.hashtags.map {|hashtag| hashtag.name}.sort.join(', ') %></td>
            <td class="align-middle"><%= note.created_at.to_date %></td>
            <td><%= button_to 'Show', edit_note_path(note), method: :get, class: "btn btn-block btn-primary btn-lg" %></td>
            <td><%= button_to 'Delete', note_path(note), method: :delete, class: "btn btn-block btn-primary btn-lg"  %></td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>